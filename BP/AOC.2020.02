CALL S.GET.INPUT(2020,2,INPUT.LINES)
INPUT.LINES.COUNT = DCOUNT(INPUT.LINES, @FM)

* Part 1,2 - Check each password for validity
VALID.PASSWORDS.PART1 = 0
VALID.PASSWORDS.PART2 = 0
FOR X = 1 TO INPUT.LINES.COUNT
* Parse the password line into its component parts
  PW = INPUT.LINES<X>
  CONVERT ' -' TO @FM:@VM IN PW
  CONVERT ':' TO '' IN PW

  POLICY.CHAR = PW<2>
  POLICY.MIN = PW<1,1>
  POLICY.MAX = PW<1,2>
  TEST.PW = PW<3>

* Check password per Part 1 rules
  CHAR.COUNT = COUNT(TEST.PW, POLICY.CHAR)
  IF CHAR.COUNT >= POLICY.MIN AND CHAR.COUNT <= POLICY.MAX THEN
    VALID.PASSWORDS.PART1 += 1
  END

* Check password per part 2 rules
  TEST.PW.2 = TEST.PW[POLICY.MIN,1]:TEST.PW[POLICY.MAX,1]
  IF COUNT(TEST.PW.2, POLICY.CHAR) = 1 THEN
    VALID.PASSWORDS.PART2 += 1
  END
NEXT
CRT 'Part 1 = ':VALID.PASSWORDS.PART1
CRT 'Part 2 = ':VALID.PASSWORDS.PART2
